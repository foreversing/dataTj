<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>毛玻璃效果</title>

		<link rel="stylesheet" href="css/bootstrap.css">
		<link rel="stylesheet" href="css/animations.css">
		<link rel="stylesheet" href="css/bs.css">
		<link rel="stylesheet" href="css/timeline.css">


		<script src="js/jquery.js"></script>
		<script src="js/popper.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/modernizr.custom.js"></script>
		<script src="js/jquery.timelinr-0.9.53.js"></script>
		<!-- <script src="js/eas.js"></script> -->
		<script src="https://cdn.bootcdn.net/ajax/libs/jQuery.Marquee/1.5.0/jquery.marquee.js"></script>
	</head>
	<style>

		#camerLists {
		max-height: 500px;
		overflow: hidden;
		
	}
	     
	.circle-label-rotate {
		-webkit-animation-name: rotateThis;
		-webkit-animation-duration:2s;
		-webkit-animation-iteration-count:infinite;
		-webkit-animation-timing-function:linear;
	}
	@-webkit-keyframes rotateThis {
		from {-webkit-transform:scale(1) rotate(0deg);}
	to {-webkit-transform:scale(1) rotate(360deg);}
	}
	

</style>

	<!-- <script>
		$(function() {
			setInterval(function() {
				$("#camerLists").children().slice(0, 4).clone().appendTo($("#camerLists"));
				var that = $("#camerLists").children().eq(0)
				that.animate({
					width: '150px',
					height: '150px'
				}, 500, 'linear', function() {
					that.addClass('circle-label-rotate');

				}).addClass('circle').html('<div class="innertext">Bye</div>').animate({
					"opacity": "0",
					"margin-left": "100px"
				}, 1500, function() {});
				that.slideUp({
					duration: 'slow',
					easing: 'easeOutBounce'
				});


				$("#camerLists").children().eq(1).fadeOut(800, function() { //200 ms
					$(this).remove();
				});
				$("#camerLists").children().eq(2).fadeOut(1100, function() { //200 ms
					$(this).remove();
				});
				$("#camerLists").children().eq(3).fadeOut(1400, function() { //200 ms
					$(this).remove();
				});

			}, 5000);
		});
	</script> -->
	<body>


		<div class="row camers" id="camerLists">
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel34.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-大操场 clone</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel35.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-2号门</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel42.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-走廊A2点</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel44.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-走廊C1点</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel36.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-走廊C2点</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel37.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-3号门</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel38.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-走廊A2点</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel39.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-走廊C1点</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel40.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-大操场</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel41.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-2号门</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel33.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-走廊A2点</div>
			</div>
			<div class="col-3">
				<div class="camer"><img src="http://www.longxuetong.com:8030/uploadFiles/uploadImgs/channel46.jpg">
				</div>
				<div class="w-100 text-center text-light-blue">花园小学-走廊C1点</div>
			</div>

		</div>





		<input type="text" id="ipt" value="" />
		<button class="d-btn-send">发送消息</button>
		<button class="d-btn-cancel">取消连接</button>
		<button class="d-btn-reset">重启websocket</button>


		<script type="text/javascript" src="js/webSocket.js"></script>

		<script>
			$.newSocket({
				// wsUrl: '172.16.0.188:8081/websocket',
				wsUrl: '123.207.136.134:9010/ajaxchattest',
				sockUrl: null,
				openSendMsg: openSendMsg,
				sendMsg: sendMsg,
				receiveMsg: receiveMsg
			});
			//初始化 传参
			function openSendMsg() {
				//传参appId
				var msg = '001';
				return msg;
			}

			function sendMsg(ws) {
				// $('.d-btn-start').off('click').on('click', function() {
				//   var msg = '发送1';
				//   ws.send(msg);
				// })
				$('.d-btn-send').on('click', function() {
					var msg = $("#ipt").val();
					ws.send(msg);

				})
			}
			// 函数：接收onmessage消息
			function receiveMsg(event) {
				if (isJSON(event.data)) {
					var msgData = JSON.parse(event.data);
					console.log(msgData);
				} else {
					console.log(event.data);
				}
				
				
				//返回数据根据数据重绘页面
			}
			// 函数：判断当前数据是否为json格式
			function isJSON(str) {
				if (typeof str == 'string') {
					try {
						var obj = JSON.parse(str);
						if (typeof obj == 'object' && obj) {
							return true;
						} else {
							return false;
						}
					} catch (e) {
						return false;
					}
				}
			}


			$('.d-btn-cancel').on('click', function() {
				$.newSocket({
					cancelSocket: true
				});
			})
			$('.d-btn-reset').on('click', function() {
				$.newSocket({
					wsUrl: '172.16.0.188:8081/websocket',
					sockUrl: null,
					sendMsg: sendMsg,
					receiveMsg: receiveMsg,
					timeout: 10000
				});
			})
		</script>
	</body>
</html>
